{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JoeBr\\\\Desktop\\\\theNewGenius\\\\client\\\\src\\\\pages\\\\ForumPage.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport \"./forum.css\";\nimport Linkify from \"react-linkify\";\nvar tempuser = window.localStorage.getItem(\"user_data\");\n\nif (tempuser) {\n  var userdata = JSON.parse(tempuser);\n  var username = userdata.firstName;\n} else var username = \"\";\n\nclass ForumPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      //title: \"\",\n      body: \"\",\n      posts: []\n    };\n\n    this.componentDidMount = () => {\n      this.getBlogPost();\n    };\n\n    this.getBlogPost = () => {\n      axios.get(\"/api\").then(response => {\n        const data = response.data;\n        this.setState({\n          posts: data\n        });\n        console.log(\"data received\");\n      }).catch(() => {\n        alert(\"error retreiving data\");\n      });\n    };\n\n    this.handleChange = ({\n      target\n    }) => {\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.submit = event => {\n      event.preventDefault();\n      const payload = {\n        user: username,\n        // title: this.state.title,\n        body: this.state.body\n      };\n      axios({\n        url: \"/api/save\",\n        method: \"POST\",\n        data: payload\n      }).then(() => {\n        console.log(\"data sent to server\");\n        this.resetUserInputs();\n        this.getBlogPost();\n      }).catch(() => {\n        console.log(\"internal server error\");\n      });\n    };\n\n    this.resetUserInputs = () => {\n      this.setState({\n        // title: \"\",\n        body: \"\"\n      });\n    };\n\n    this.displayBlogPost = posts => {\n      if (!posts.length) return null;\n      return posts.map((post, index) => /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        className: \"blog-post-display\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }, post.user, \":\"), /*#__PURE__*/React.createElement(Linkify, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }\n      }, post.body))));\n    };\n\n    this.doLogout = event => {\n      event.preventDefault();\n      window.location.href = \"/\";\n    };\n  }\n\n  render() {\n    console.log(\"State: \", this.state); //jsx\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, \"Welcome to the Forum.\"), /*#__PURE__*/React.createElement(\"div\", {\n      classname: \"blog-\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, this.displayBlogPost(this.state.posts)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signedinas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, \"Signed in as: \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, username)), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"body\",\n      placeholder: \"Say something interesting\",\n      cols: \"30\",\n      rows: \"10\",\n      value: this.state.body,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, \"Post\")), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"logout\",\n      onClick: this.doLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }, \"Logout\"));\n  }\n\n}\n\nexport default ForumPage;","map":{"version":3,"sources":["C:/Users/JoeBr/Desktop/theNewGenius/client/src/pages/ForumPage.js"],"names":["React","axios","Linkify","tempuser","window","localStorage","getItem","userdata","JSON","parse","username","firstName","ForumPage","Component","state","body","posts","componentDidMount","getBlogPost","get","then","response","data","setState","console","log","catch","alert","handleChange","target","name","value","submit","event","preventDefault","payload","user","url","method","resetUserInputs","displayBlogPost","length","map","post","index","doLogout","location","href","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport \"./forum.css\";\nimport Linkify from \"react-linkify\";\n\nvar tempuser = window.localStorage.getItem(\"user_data\");\nif (tempuser) {\n  var userdata = JSON.parse(tempuser);\n  var username = userdata.firstName;\n} else var username = \"\";\n\nclass ForumPage extends React.Component {\n  state = {\n    //title: \"\",\n    body: \"\",\n    posts: [],\n  };\n\n  componentDidMount = () => {\n    this.getBlogPost();\n  };\n\n  getBlogPost = () => {\n    axios\n      .get(\"/api\")\n      .then((response) => {\n        const data = response.data;\n        this.setState({ posts: data });\n        console.log(\"data received\");\n      })\n      .catch(() => {\n        alert(\"error retreiving data\");\n      });\n  };\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  submit = (event) => {\n    event.preventDefault();\n    const payload = {\n      user: username,\n      // title: this.state.title,\n      body: this.state.body,\n    };\n\n    axios({\n      url: \"/api/save\",\n      method: \"POST\",\n      data: payload,\n    })\n      .then(() => {\n        console.log(\"data sent to server\");\n        this.resetUserInputs();\n        this.getBlogPost();\n      })\n      .catch(() => {\n        console.log(\"internal server error\");\n      });\n  };\n\n  resetUserInputs = () => {\n    this.setState({\n      // title: \"\",\n      body: \"\",\n    });\n  };\n\n  displayBlogPost = (posts) => {\n    if (!posts.length) return null;\n\n    return posts.map((post, index) => (\n      <div key={index} className=\"blog-post-display\">\n        <h3>{post.user}:</h3>\n        <Linkify>\n          <p>{post.body}</p>\n        </Linkify>\n      </div>\n    ));\n  };\n\n  doLogout = (event) => {\n    event.preventDefault();\n    window.location.href = \"/\";\n  };\n\n  render() {\n    console.log(\"State: \", this.state);\n\n    //jsx\n    return (\n      <div className=\"app\">\n        <h2 className=\"title\">Welcome to the Forum.</h2>\n        <div classname=\"blog-\">{this.displayBlogPost(this.state.posts)}</div>\n        <div className=\"user\">\n          <div className=\"signedinas\">Signed in as: </div>\n          <div className=\"profile\">{username}</div>\n        </div>\n        <form onSubmit={this.submit}>\n          {/* <div className=\"form-input\">\n            <input\n              type=\"text\"\n              name=\"title\"\n              placeholder=\"title\"\n              value={this.state.title}\n              onChange={this.handleChange}\n            />\n          </div> */}\n          <div className=\"form-input\">\n            <textarea\n              name=\"body\"\n              placeholder=\"Say something interesting\"\n              cols=\"30\"\n              rows=\"10\"\n              value={this.state.body}\n              onChange={this.handleChange}\n            ></textarea>\n          </div>\n\n          <button className=\"submit\">Post</button>\n        </form>\n        <button className=\"logout\" onClick={this.doLogout}>\n          Logout\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default ForumPage;\n"]},"metadata":{},"sourceType":"module"}